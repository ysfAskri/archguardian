@startuml

skinparam shadowing false
skinparam roundcorner 8
skinparam backgroundColor white

rectangle "**git commit**" as commit #e0e7ff
rectangle "archguardian" as guard #f5f3ff {
  rectangle "Parse diff + AST" as parse #ffffff
  rectangle "Analyze" as analyze #ffffff
}
rectangle "Commit OK" as ok #dcfce7
rectangle "Commit blocked" as blocked #fee2e2

commit -down-> parse
parse -down-> analyze
analyze -down-> ok : no issues
analyze -down-> blocked : issues found

note right of analyze
  Security
  AI smells
  Conventions
  Duplicates
  Architecture
end note

@enduml
